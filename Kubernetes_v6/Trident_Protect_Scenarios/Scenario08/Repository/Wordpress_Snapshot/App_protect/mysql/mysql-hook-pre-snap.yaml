apiVersion: protect.trident.netapp.io/v1
kind: ExecHook
metadata:
  name: mysql-snap-pre
  namespace: wpargo1
  annotations:
    argocd.argoproj.io/sync-wave: "3"
spec:
  applicationRef: wordpress-mysql
  stage: Pre
  action: Snapshot
  enabled: true
  hookSource: IyEvYmluL3NoCgojIG1hcmlhZGJfbXlzcWwuc2gKIwojCiMgUHJlLSBhbmQgcG9zdC1zbmFwc2hvdCBleGVjdXRpb24gaG9va3MgZm9yIE1hcmlhREIgYW5kIE15U1FMIHdpdGggTmV0QXBwIEFzdHJhIENvbnRyb2wuCiMgVGVzdGVkIHdpdGggTXlTUUwgOC4wLjI5IChkZXBsb3llZCBieSBCaXRuYW1pIGhlbG0gY2hhcnQgOS4xLjcpL01hcmlhREIgMTAuNi44IChkZXBsb3llZCBieSBCaXRuYW1pIGhlbG0gY2hhcnQgMTEuMC4xMykgYW5kIE5ldEFwcCBUcmlkZW50IHByb3RlY3QgMjQuMTAuCiMKIyBhcmdzOiBbcHJlfHBvc3RdCiMgcHJlOiBGbHVzaCBhbGwgdGFibGVzIHdpdGggcmVhZCBsb2NrCiMgcG9zdDogVGFrZSBkYXRhYmFzZSBvdXQgb2YgcmVhZC1vbmx5IG1vZGUKIwojIE5vdGU6IER1ZSB0byB0aGUgZGVzaWduIG9mIHRoaXMgaG9vayBhbmQgdGhlIFRyaWRlbnQgcHJvdGVjdCBleGVjdXRpb24gaG9vayBhcmNoaXRlY3R1cmUsCiMgdGhpcyBob29rIHdpbGwgd2FpdCBpbiB0aGUgcHJlLXN0YWdlIHVudGlsIHRoZSBob29rIHRpbWVvdXQgKGRlZmF1bHQgMjVtaW4pIGV4cGlyZXMuCiMgWW91IG1heSB0aGluayBhYm91dCByZWR1Y2luZyBzcGVjLnRpbWVvdXQgdG8gYSBsb3dlciB2YWx1ZSB3aGVuIGNvbmZpZ3VyaW5nIHRoaXMgaG9vayBpbiB5b3VyIGNsdXN0ZXIuCgojIENvbXBsZXggc2hlbGwgY29tbWFuZHMgYXJlIGRpZmZpY3VsdCB0byBnZXQgcmlnaHQgdGhyb3VnaCBhIHJlbW90ZSBleGVjdXRpb24gYXBpLgojIEZvciBzb21ldGhpbmcgbGlrZSB0aGlzIG9idHVzZSBwcm9jZWR1cmUsIGFuIGFsdGVybmF0aXZlIGFwcHJvYWNoIGlzIHRvIG1vdW50IGEKIyBzY3JpcHQgaW50byB0aGUgY29udGFpbmVyLgoKIyBUbyBxdWllc2NlIGFuZCBob2xkIG1hcmlhZGIvbXlzcWwgZGF0YWJhc2VzIHdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIGVhY2ggb25lCiMgYW5kIG9wZW4gYSBjbGllbnQgY29ubmVjdGlvbiB0byBpdCwgdGhlbiBpc3N1ZSBhICdmbHVzaCB0YWJsZXMgd2l0aCByZWFkIGxvY2snCiMgYW5kIHRoZW4gc2xlZXAsIGhvbGRpbmcgdGhlIGNvbm5lY3Rpb24gb3BlbiBpbmRlZmluaXRlbHkuICBXaGVuIHRoZSBzbmFwc2hvdAojIGlzIGRvbmUsIHRoZSByZWFkIGxvY2sgaXMgcmVsZWFzZWQgYnkgdGVybWluYXRpbmcgdGhlIG15c3FsIHByb2Nlc3MgKGZyb20KIyBvdXRzaWRlIHRoaXMgc2NyaXB0KQoKIyBEQiB2YXJpYW50cyAmIGNvbmZpZyB2YXJzOgojCiMgSXQgZG9lcyBub3QgbWF0dGVyIHNpZ25pZmljYW50bHkgaWYgd2UgYXJlIHVzaW5nIE1hcmlhIG9yIE15U1FMLCBidXQgaW4gZ2VuZXJhbCB0aGUgYXNzdW1wdGlvbgojIGlzIHRoYXQgaWYgYW55IG9mIHRoZSByZWxldmFudCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgc3RhcnRpbmcgd2l0aCAnTUFSSUFEQicgYXJlIHNldCwgd2UncmUKIyBkZWFsaW5nIHdpdGggTWFyaWEgYW5kIHdlIHNob3VsZCBwcmVmZXIgdGhvc2UgdmFyaWFibGVzIG92ZXIgdGhlIG15c3FsIHZlcnNpb25zLgoKIwojIEludm9jYXRpb24gJiBhdXRoIHZhcmlhYmxlcwojCm9wdGZpbGU9Ii90bXAvZnJlZXplX29wdHMiCmhvc3RuYW1lPSJsb2NhbGhvc3QiCm15c3FsPSJteXNxbCAtLWRlZmF1bHRzLWV4dHJhLWZpbGU9JHtvcHRmaWxlfSIKdXNlcj0icm9vdCIKcGFzc3dvcmQ9IiIKCiMKIyBPcGVyYXRpb25hbCBwYXJhbWV0ZXJzIGFuZCBjb21tYW5kcwojCnNsZWVwdGltZT04NjQwMApzbGVlcD0iU0VMRUNUIFNMRUVQKCR7c2xlZXB0aW1lfSkiCmZsdXNoPSJGTFVTSCBUQUJMRVMgV0lUSCBSRUFEIExPQ0s7ICR7c2xlZXB9IgoKIwojIEVycm9yIGNvZGVzCiMgVGhlc2UgYXJlIGltcG9ydGFudCBmb3IgZmluZGluZyBvdXQgd2hhdCB3ZW50IHdyb25nIGZyb20gdGhlIG90aGVyIGVuZCBvZiB0aGUgazhzIGFwaQojIE9ubHkgY2hhbmdlIGV4aXN0aW5nIG9uZXMgKGRlbGV0ZSBkZXByZWNhdGVkIGFuZCBzaGlmdCBjb2RlcywgZnJleCkgYWNyb3NzIHZlcnNpb24gYm91bmRhcmllcy4KIwplYmFzZT0yMAojZGVwcmVjYXRlZDogJCgoZWJhc2UrMSkpCiNkZXByZWNhdGVkOiAkKChlYmFzZSsyKSkKZWZpbGVjcmVhdGU9JCgoZWJhc2UrMykpCmVzbGVlcHRpbWU9JCgoZWJhc2UrNCkpCmVraWxsPSQoKGViYXNlKzUpKQplYWNjZXNzPSQoKGViYXNlKzYpKQpldXNhZ2U9JCgoZWJhc2UrNykpCmViYWRhY3Rpb249JCgoZWJhc2UrOCkpCgojCiMgc2V0dXBfYXV0aCBmaWd1cmVzIG91dCB3aGF0IHRvIHVzZSBmb3IgdXNlciBhbmQgcGFzc3dvcmQgYW5kIHdyaXRlcyB0aGUgb3B0aW9ucyBmaWxlIG91dAojCiMgVGhlIHBhc3N3b3JkIGhhbmRsaW5nIGhlcmUgaXMgYmFzZWQgb24gdGhlIGNvbnZlbnRpb25zIGVzdGFibGlzaGVkIGJ5IHRoZSBCaXRuYW1pIE1hcmlhREIgJiBNeVNRTAojIGRvY2tlciBpbWFnZXMuICBXZSBtYXkgbmVlZCB0byBleHBhbmQgdGhpcyB0byBhY2NvdW50IGZvciBvdGhlciB1c2FnZSBtb2RlbHMgYnV0IGFzIG9mIHRoZSB0aW1lIG9mCiMgd3JpdGluZyBkb24ndCBrbm93IG9mIGFueXRoaW5nIGVsc2UgdmFndWVseSBzdGFuZGFyZCBpbiB0aGUgY29udGFpbmVyIHdvcmxkLgojCiMgRG9jdW1lbnRhdGlvbjoKIyBodHRwczovL2dpdGh1Yi5jb20vYml0bmFtaS9iaXRuYW1pLWRvY2tlci1tYXJpYWRiCiMgaHR0cHM6Ly9naXRodWIuY29tL2JpdG5hbWkvYml0bmFtaS1kb2NrZXItbXlzcWwKIwpzZXR1cF9hdXRoKCkgewogIHNldHVwX3VzZXIKICBzZXR1cF9wYXNzCiAgc2V0dXBfaG9zdG5hbWUKICB3cml0ZV9vcHRfZmlsZQogIHJjPSQ/CiAgcmV0dXJuICR7cmN9Cn0KCiMKIyBzZXR1cF91c2VyIG92ZXJyaWRlcyBkZWZhdWx0cyB3aXRoIGVudiB2YXJzIGlmIHNldAojCnNldHVwX3VzZXIoKSB7CiAgaWYgWyAtbiAiJHtNQVJJQURCX1JPT1RfVVNFUn0iIF0gOyB0aGVuCiAgICB1c2VyPSR7TUFSSUFEQl9ST09UX1VTRVJ9CiAgZWxpZiBbIC1uICIke01ZU1FMX1JPT1RfVVNFUn0iIF0gOyB0aGVuCiAgICB1c2VyPSR7TVlTUUxfUk9PVF9VU0VSfQogIGZpCn0KCiMKIyBzZXR1cF9ob3N0bmFtZSBvdmVycmlkZXMgZGVmYXVsdHMgd2l0aCBlbnYgdmFycyBpZiBzZXQKIwpzZXR1cF9ob3N0bmFtZSgpIHsKICBpZiBbIC1uICIke0hPU1ROQU1FfSIgXSA7IHRoZW4KICAgIGhvc3RuYW1lPSR7SE9TVE5BTUV9CiAgICBteXNxbD0iJHtteXNxbH0gIC1oICR7aG9zdG5hbWV9IgogIGZpCn0KCiMgc2V0dXBfcGFzc19maWxlIG9wdGlvbmFsbHkgb3ZlcnJpZGVzIGRlZmF1bHRzIGFuZCB2YXJzIHdpdGggYSBmaWxlCiMKc2V0dXBfcGFzc19maWxlKCkgewogIGlmIFsgLW4gIiR7TUFSSUFEQl9ST09UX1BBU1NXT1JEX0ZJTEV9IiBdIDsgdGhlbgogICAgcGFzc3dvcmQ9JChjYXQgIiR7TUFSSUFEQl9ST09UX1BBU1NXT1JEX0ZJTEV9IikKICBlbGlmIFsgLW4gIiR7TVlTUUxfUk9PVF9QQVNTV09SRF9GSUxFfSIgXSA7IHRoZW4KICAgIHBhc3N3b3JkPSQoY2F0ICIke01ZU1FMX1JPT1RfUEFTU1dPUkRfRklMRX0iKQogIGZpCn0KCiMKIyBzZXR1cF9wYXNzIGZpZ3VyZXMgb3V0IGlmIHdlIGhhdmUgYSBwYXNzd29yZCBpbiBhbiBlbnYgdmFyIHRvIHVzZQojCnNldHVwX3Bhc3MoKSB7CiAgc2V0dXBfcGFzc19maWxlCiAgaWYgWyAtbiAiJHtwYXNzd29yZH0iIF07IHRoZW4KICAgIHJldHVybgogIGZpCiAgaWYgWyAtbiAiJHtNQVJJQURCX1JPT1RfUEFTU1dPUkR9IiBdIDsgdGhlbgogICAgcGFzc3dvcmQ9JHtNQVJJQURCX1JPT1RfUEFTU1dPUkR9CiAgZWxpZiBbIC1uICIke01ZU1FMX1JPT1RfUEFTU1dPUkR9IiBdIDsgdGhlbgogICAgcGFzc3dvcmQ9JHtNWVNRTF9ST09UX1BBU1NXT1JEfQoKICAjIGlmIG9ubHkgTUFSSUFEQl9NQVNURVJfUk9PVF9QQVNTV09SRCBpcyBzZXQsIHRoZW4gaXQncyBhIHJlcGxpY2F0aW9uIGRiICgic2wqdioiKQogIGVsaWYgWyAtbiAiJHtNQVJJQURCX01BU1RFUl9ST09UX1BBU1NXT1JEfSIgXSA7IHRoZW4KICAgIHBhc3N3b3JkPSR7TUFSSUFEQl9NQVNURVJfUk9PVF9QQVNTV09SRH0KCiAgZWxpZiBbIC1uICIke01ZU1FMX01BU1RFUl9ST09UX1BBU1NXT1JEfSIgXSA7IHRoZW4KICAgIHBhc3N3b3JkPSR7TVlTUUxfTUFTVEVSX1JPT1RfUEFTU1dPUkR9CiAgZmkKfQoKIwojIHRlc3RfYWNjZXNzIG1ha2VzIHN1cmUgd2UgY2FuIGlzc3VlIGNvbW1hbmRzIHRvIHRoZSBkYXRhYmFzZQojCiMgdGhlIHJlYWwgZnJlZXplIHByb2Nlc3NlcyBhcmUgc3RhcnRlZCBpbiB0aGUgYmFja2dyb3VuZCBhbmQgd2UgY2FuJ3QgZW5zdXJlIHRoYXQgdGhleQojIHdlcmUgc3RhcnRlZCBiYXNlZCBvbiByZXR1cm4gY29kZXMuICBNYWtlIHN1cmUgd2UgY2FuIGV4ZWN1dGUgY29tbWFuZHMgYnkgdXNpbmcgYSBzaW1wbGUgb25lIGhlcmUuCnRlc3RfYWNjZXNzKCkgewogICR7bXlzcWx9IC1BIC1lICdzaG93IHByb2Nlc3NsaXN0OycgPi9kZXYvbnVsbCAyPiYxCiAgcmM9JD8KICBpZiBbICIke3JjfSIgLW5lICIwIiBdIDsgdGhlbgogICAgcmV0dXJuICR7ZWFjY2Vzc30KICBmaQogIHJldHVybiAwCn0KCiMKIyB3cml0ZV9vcHRfZmlsZSB3cml0ZXMgb3V0IGEgdGVtcG9yYXJ5IGF1dGhlbnRpY2F0aW9uIG9wdGlvbnMgZmlsZSBmb3IgdGhlIG15c3FsIGNsaWVudAojCndyaXRlX29wdF9maWxlKCkgewogIGVjaG8gIltjbGllbnRdIiA+ICR7b3B0ZmlsZX0KICBlY2hvICJ1c2VyPSR7dXNlcn0iID4+ICR7b3B0ZmlsZX0KICBpZiBbIC1uICIke3Bhc3N3b3JkfSIgXSA7IHRoZW4KICAgIGVjaG8gInBhc3N3b3JkPSR7cGFzc3dvcmR9IiA+PiAke29wdGZpbGV9CiAgZmkKICBpZiBbICEgLWUgJHtvcHRmaWxlfSBdIDsgdGhlbgogICAgcmV0dXJuICR7ZWZpbGVjcmVhdGV9CiAgZmkKICAjbWFrZSBzdXJlIG9wdCBmaWxlIGlzIG5vdCB3b3JsZCB3cml0ZS1hYmxlIAogIGNobW9kIG8tdyAke29wdGZpbGV9IAogIHJjPSQ/CiAgaWYgWyAiJHtyY30iIC1uZSAiMCIgXSA7IHRoZW4KCXJldHVybiAke2VmaWxlY3JlYXRlfQogIGZpCgogICMgU3VjY2VzcwogIHJldHVybiAwCn0KCiMKIyBjbGVhbnVwIGRlbGV0ZXMgYW55IHRlbXBvcmFyeSBmaWxlcwojCmNsZWFudXAoKSB7CiAgcm0gLWYgJHtvcHRmaWxlfQp9CgojCiMgZnJlZXplIGV4ZWN1dGVzIHRoZSBhY3R1YWwgZnJlZXplIGNvbW1hbmQgZm9yIGEgc3BlY2lmaWVkIGRhdGFiYXNlCiMKZnJlZXplKCkgewogIGRiPSQxCgogIGVjaG8gImZyZWV6aW5nICR7ZGJ9Li4iCgogICR7bXlzcWx9ICIke2RifSIgLWUgIiR7Zmx1c2h9IiA+L2Rldi9udWxsIDI+JjEgJgogIHJldHVybiAkPwp9CgojCiMgZnJlZXplX2FsbCBpc3N1ZXMgZnJlZXplcyBmb3IgZWFjaCBkYXRhYmFzZQojCmZyZWV6ZV9hbGwoKSB7CiAgcmM9MAogIGZvciBpIGluICQoJHtteXNxbH0gLWUgJ3Nob3cgZGF0YWJhc2VzJyB8IGdyZXAgLXYgRGF0YWJhc2UpOyBkbwogICAgZnJlZXplICIke2l9IgogICAgcmM9JD8KICAgIGlmIFsgJHtyY30gLW5lIDAgXSA7IHRoZW4KICAgICAgZWNobyAiRXJyb3IgZnJlZXppbmcgJHtpfSIKICAgICAgYnJlYWsKICAgIGZpCgogICAgd2FpdF9mb3Jfc2xlZXBlcl90b19zdGFydCAiJHtpfSIKICAgIHJjPSQ/CiAgICBpZiBbICR7cmN9IC1uZSAwIF0gOyB0aGVuCiAgICAgIGVjaG8gIkVycm9yIGZsdXNoaW5nIGRhdGFiYXNlICR7aX0iCiAgICAgIGJyZWFrCiAgICBmaQogIGRvbmUKICByZXR1cm4gJHtyY30KfQoKIwojIHdhaXQgZm9yIHNsZWVwZXIgd2FpdHMgdXAgdG8gYSB0aW1lb3V0IGZvciBhIHNsZWVwIHByb2Nlc3MgdG8gc3RhcnQKIwp3YWl0X2Zvcl9zbGVlcGVyX3RvX3N0YXJ0KCkgewogIGRiPSQxCgogIHNlYXJjaGluZz0wCiAgdGltZW91dD02MAogIHdoaWxlIFsgJHtzZWFyY2hpbmd9IC1lcSAwIF0KICBkbwogICAgc2xlZXAgMQogICAgc2VhcmNoaW5nPSQoJHtteXNxbH0gIiR7ZGJ9IiAtQSAtZSAic2hvdyBwcm9jZXNzbGlzdDsiIHwgZ3JlcCAtYyAiJHtzbGVlcH0iKQoKICAgIHRpbWVvdXQ9JCgodGltZW91dC0xKSkKICAgIGlmIFsgJHt0aW1lb3V0fSAtZXEgMCBdOyB0aGVuCiAgICAgIGVjaG8gInRpbWVkIG91dCB3YWl0aW5nIGZvciBzbGVlcGVyIGZvciAke2RifSIKICAgICAgcmV0dXJuICR7ZXNsZWVwdGltZX0KICAgIGZpCiAgZG9uZQogIHJldHVybiAwCn0KCiMgd2FpdCBmb3Igc2xlZXBlcnMgdG8gZW5kLCBob3dldmVyLCBpZiB0aGV5IGRvIG5vdCBlbmQgd2l0aGluIDQ1IG1pbnV0ZXMsIGtpbGwgdGhlbQojIHBvbGxzIGV2ZXJ5IDEwIHNlY29uZHMgMjcwIHRpbWVzIHRvIGFycml2ZSBhdCAyNzAwIHNlY29uZHMgd2hpY2ggaXMgNDUgbWludXRlcwojIHNuYXBzaG90cyB3aXRoIGhvb2tzIGFyZSBsaW1pdGVkIHRvIDMwIG1pbnV0ZXMsIDQ1IG1pbnV0ZXMgcHJvdmlkZXMgYSBidWZmZXIgZm9yIHRoYXQgdG8gZmluaXNoIGJlZm9yZSB0aW1pbmcgb3V0CiMgdW5kZXIgbm9ybWFsIG9wZXJhdGlvbiwgdGhlICJ0aGF3IiBvcHRpb24gd2lsbCBraWxsIHRoZXNlIHNsZWVwZXJzIHdoaWNoIHdpbGwgYWxsb3cgdGhpcyB0byBleGl0IG5vcm1hbGx5IGJlZm9yZSB0aGUgNDUgbWludXRlIHRpbWVvdXQKd2FpdF9mb3Jfc2xlZXBlcnNfdG9fZW5kKCkgewogIHNlYXJjaGluZz0xCiAgdGltZW91dD0yNzAKICB3aGlsZSBbICR7c2VhcmNoaW5nfSAtbmUgMCBdCiAgZG8KICAgIHNsZWVwIDEwCiAgICBzZWFyY2hpbmc9JCgke215c3FsfSAtQSAtZSAic2hvdyBwcm9jZXNzbGlzdDsiIHwgZ3JlcCAtYyAiJHtzbGVlcH0iKQoKICAgIHRpbWVvdXQ9JCgodGltZW91dC0xKSkKICAgIGlmIFsgJHt0aW1lb3V0fSAtZXEgMCBdOyB0aGVuCiAgICAgIGVjaG8gInRpbWVkIG91dCB3YWl0aW5nIGZvciBhbGwgc2xlZXBlcnMiCiAgICAgIGtpbGxfc2xlZXBlcnMKICAgICAgcmV0dXJuICR7ZXNsZWVwdGltZX0KICAgIGZpCiAgZG9uZQogIHJldHVybiAwCn0KCiMKIyBraWxsX3NsZWVwZXJzIHNodXRzIGRvd24gYWxsIHNsZWVwaW5nIGxvY2sgdGhyZWFkcwojCmtpbGxfc2xlZXBlcnMoKSB7CiAgZm9yIHNsZWVwZXIgaW4gJCgke215c3FsfSAtQSAtZSAic2hvdyBwcm9jZXNzbGlzdDsiIHwgZ3JlcCAiJHtzbGVlcH0iIHwgYXdrICd7cHJpbnQgJDF9Jyk7IGRvCiAgICBlY2hvICJraWxsaW5nIHNsZWVwZXIgJHtzbGVlcGVyfSIKICAgICMgdGhpcyBjb21wbGFpbnMgYWJvdXQgbG9zaW5nIGNvbm5lY3Rpb24sIGJ1dCB0aGUgZXJyb3IgY29kZSBjYW4gYmUgdHJ1c3RlZAogICAgaWYgISAke215c3FsfSAtQSAtZSAiS0lMTCAke3NsZWVwZXJ9OyI7IHRoZW4KICAgICAgZWNobyAiRXJyb3Iga2lsbGluZyBzbGVlcGluZyBjb25uZWN0aW9uICR7c2xlZXBlcn0iCiAgICAgIHJldHVybiAke2VraWxsfQogICAgZmkKICBkb25lCgogIHJldHVybiAwCn0KCiMKIyB0aGF3IHJlc3VtZXMgYWxsIGRhdGFiYXNlcwojCnRoYXcoKSB7CiAga2lsbF9zbGVlcGVycwogIHJjPSQ/CiAgaWYgWyAke3JjfSAtbmUgMCBdOyB0aGVuCiAgICBlY2hvICJFcnJvciByZXN1bWluZyBkYXRhYmFzZXMiCiAgICByZXR1cm4gJHtyY30KICBmaQp9CgojCiMgcHJlcGFyZV9mb3JfYWN0aW9uIHNldHMgdXAgY29tbW9uIHBhcmFtZXRlcnMgYW5kIGF1dGggZm9yIGEgcHJpbWFyeSBhY3Rpb24KIwpwcmVwYXJlX2Zvcl9hY3Rpb24oKSB7CiAgc2V0dXBfYXV0aAogIHJjPSQ/CiAgaWYgWyAke3JjfSAtbmUgMCBdIDsgdGhlbgogICAgZWNobyAiRXJyb3IgZHVyaW5nIHNldHVwIgogICAgcmV0dXJuICR7cmN9CiAgZmkKCiAgdGVzdF9hY2Nlc3MKICByYz0kPwogIGlmIFsgJHtyY30gLW5lIDAgXTsgdGhlbgogICAgZWNobyAiUHJvYmxlbSBhY2Nlc3NpbmcgZGF0YWJhc2UiCiAgICByZXR1cm4gJHtyY30KICBmaQp9CgojCiMgIm1haW4iCiMKYWN0aW9uPSQxCmlmIFsgLXogIiR7YWN0aW9ufSIgXTsgdGhlbgogIGVjaG8gIlVzYWdlOiAkMCA8cHJlfHBvc3Q+IgogIGV4aXQgJHtldXNhZ2V9CmZpCgppZiBbICIke2FjdGlvbn0iICE9ICJwcmUiIF0gJiYgWyAiJHthY3Rpb259IiAhPSAicG9zdCIgXTsgdGhlbgogIGVjaG8gIkludmFsaWQgc3ViY29tbWFuZDogJHthY3Rpb259IgogIGV4aXQgJHtlYmFkYWN0aW9ufQpmaQoKcHJlcGFyZV9mb3JfYWN0aW9uCnJjPSQ/CmlmIFsgJHtyY30gLW5lIDAgXTsgdGhlbgogIGVjaG8gIkVycm9yIHNldHRpbmcgdXAgZm9yICR7YWN0aW9ufSIKICBjbGVhbnVwCiAgZXhpdCAke3JjfQpmaQoKaWYgWyAiJHthY3Rpb259IiA9ICJwcmUiIF07IHRoZW4KICBmcmVlemVfYWxsCiAgcmM9JD8KICBpZiBbICR7cmN9IC1uZSAwIF07IHRoZW4KICAgIGVjaG8gIkVycm9yIGZyZWV6aW5nIGRhdGFiYXNlcyIKICAgICMgZmFsbCB0aHJvdWdoIHRvIGNsZWFudXAKICAgIGtpbGxfc2xlZXBlcnMKICBlbHNlCiAgICBlY2hvICJfX0hvb2tfUmVhZHlfU3RhdGVfXyIKICAgIHdhaXRfZm9yX3NsZWVwZXJzX3RvX2VuZAogIGZpCmVsc2UKICB0aGF3CiAgcmM9JD8KICBpZiBbICR7cmN9IC1uZSAwIF0gOyB0aGVuCiAgICBlY2hvICJFcnJvciB0aGF3aW5nIGRhdGFiYXNlcyIKICAgICMgZmFsbCB0aHJvdWdoIHRvIGNsZWFudXAKICBmaQpmaQoKY2xlYW51cApleGl0ICR7cmN9Cg==
  timeout: 10
  arguments:
  - pre
  matchingCriteria:
  - type: containerName
    value: mysql